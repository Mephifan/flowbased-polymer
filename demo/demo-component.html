<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../iron-ajax/iron-ajax.html">
<link rel="import" href="../behaviour.html">
<link rel="import" href="../inspect-flow.html">
<link rel="import" href="call-function.html">

<dom-module id="demo-component">

    <template>
        <style>
            :host {
                display: block;

            }
        </style>

        <button @-tap="--request-ajax,--catch(_aValue)">Request Ajax</button>


        <inspect-flow ƒ-event="--catch,--request-ajax"></inspect-flow>
        <iron-ajax
            ƒ-generate-request="--request-ajax"
            @-response="((_response))"
            url="../bower.json"
            handle-as="json"></iron-ajax>
        <hr>
        <call-function func="{{_unknown}}" @-select-object="--catch" @-fire-laser="--catch"></call-function>

        <value-observer observe="{{_response}}"  @-value-changed="^fire-laser(_aValue), ^fire, ^^fire-bubble, --f4, ((aProperty)), ((test)), --kappute-verbindung"></value-observer>
        <value-observer unknown="{{_response}}" @-value-changed="((readonly))" on-value-changed="regularTap"></value-observer>


        receivedResponse.response.version = {{_response.response.version}}
        <br>
        <br>
        {{texst}} {{aProperty}}
    </template>

    <script>

        Polymer({
            is: 'demo-component',
            behaviors: [Polymer.FlowBasedProgramming],
            properties:{

                test:{
                    type:String,
                    value:"TEST",
                    notify:true
                },
                aProperty:{
                    type:String,
                    value:"aProperty",
                    notify:true
                },
                texst:{
                    type:String,
                    value:"something",
                    notify:true
                },
                readonly:{
                    type:String,
                    value:"aProperty",
                    readOnly:true,
                    notify:true
                }
            } ,listeners: {
                'fireBubble': 'specialTap',
                'fire': 'regularTap'
            },

            regularTap: function(e) {
               console.dir(e)
            },

            specialTap: function(e) {
                console.dir(e)
            }
        });
    </script>
</dom-module>
