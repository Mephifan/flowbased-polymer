<link rel="import" href="../mixin.html">
<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="count-points.html">
<link rel="import" href="receive-value.html">


<!--
`<flowbased-polymer>`
-->

<dom-module id="flowbased-polymer">

    <template>

        <style>
            :host {
                display: block;
            }
        </style>

        <div>
            <paper-button id="buttonA" @-click="--buttonTapped,((prop)),((deepprop.sub)),--tapped(sendval), ^^bubbling, ^nonbubbling, ^^bubblingdata(sendval), ^nonbubblingdata(sendval)">
                Button
            </paper-button>
        </div>

        <count-points id="counter" counter="{{counter}}" ƒ-increment="--buttonTapped,--buttonBTapped"></count-points>

        <receive-value id="receive" ƒ-reg="--tapped" ƒ-sum="--buttonCTapped" @-ƒ-sum="((atf))"
                       ƒ-camel-case="--buttonDTapped" ƒ-nonexistent="--buttonETapped" ƒ-deep="--buttonFTapped"></receive-value>

        <paper-button id="buttonB" @-click="--buttonBTapped">Button</paper-button>
        <paper-button id="buttonC" @-click="--buttonCTapped(args)">Button</paper-button>
        <paper-button id="buttonD" @-click="--buttonDTapped">Button</paper-button>
        <paper-button id="buttonE" @-click="--buttonETapped">Button</paper-button>
        <paper-button id="buttonEvent" @-click="--tapped(*)">Button</paper-button>
        <paper-button id="buttonF" @-click="--buttonFTapped(sendvalDeep.a),^^bubbleDeep(sendvalDeep.a),^nonbubbleDeep(sendvalDeep.a)">Button</paper-button>

    </template>

    <script>

        class FlowbasedPolymer extends FBPMixin(Polymer.Element) {
            static get is() {

                return 'flowbased-polymer';
            }

            static get properties(){
            return {
                counter: {
                    type: Number,
                    value: 0
                },
                prop: {
                    type: Number,
                    value: 10
                },
                deepprop: {
                    type: Object,
                    value: {sub:9999}
                },
                sendval: {
                    type: Number,
                    value: 42
                },
                atf: {
                    type: Number,
                    value: 11142
                },
                args: {
                    type: Array,
                    value: [3, 4, 5]
                },
                sendvalDeep: {
                    type: Object,
                    value: {a:1337}
                }
            }
            }
        }

        window.customElements.define(FlowbasedPolymer.is, FlowbasedPolymer);


    </script>
</dom-module>
